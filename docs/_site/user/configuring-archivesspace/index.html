<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Configuring ArchivesSpace - ArchivesSpace</title>
    <link rel="stylesheet" href="/archivesspace/assets/stylesheets/main.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" defer></script>
    <script src="/archivesspace/assets/javascripts/site.js" type="text/javascript" charset="utf-8" defer></script>
    <script src="/archivesspace/assets/javascripts/main.js" type="text/javascript" charset="utf-8" defer></script>
    <link rel="alternate" type="application/atom+xml" href="/blog.xml">
  </head>
  <body>
    <div class="wrapper">

      <header class="top">
  <div class="row topbar">
    <h1 id="logo" class="logo">
  <a href="http://archivesspace.org/" title="ArchivesSpace">ArchivesSpace</a>
</h1>

    <nav>
      <ul id="navigation" class="navigation">
        <li><a href="https://archivesspace.atlassian.net/wiki/display/ADC/ArchivesSpace">Wiki</a></li>
        <li><a href="http://docs.archivesspace.org">User Docs</a></li>
        <li class="toggle"><button type="button" id="toggle-menu" class="button--teal">Menu</button></li>
      </ul>
    </nav>
  </div>
</header>


      <div id="content" class="row">

        <div id="sidebar" class="sidebar">
  <div>
    <!-- <h2>Search</h2> -->
    <div class="searchbox">
      <form onsubmit='google_site_search()'>
        <input type="text" id="google-search" class="searchbox-input" placeholder="Search the docs" />
      </form>

      <script language="Javascript" type="text/javascript">
          function google_site_search()
            {
                var query = document.getElementById("google-search").value;
                  window.open("http://google.com/search?q=" + query
                  + "%20site:" + "http://archivesspace.github.io/archivesspace");
                  }
                </script>
    </div>
  </div>
  <!-- <section>
    <h2>Newsletter</h2>
    <div id="mc_embed_signup" style="margin-left: 1.5em; margin-top: 0.5em;">
      <form
         action="http://travis-ci.us7.list-manage.com/subscribe/post?u=8ce724a4c9af4dace663cd39c&amp;id=44f8dff14c"
         method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
         target="_blank" novalidate>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required/>
        <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
      </form>
    </div>
  </section>
  <section>
    <h2><a href="http://travis-ci.com/?utm_source=docs.travis-ci.org&utm_medium=referral&utm_content=textlink&utm_campaign=docsite_sidebar">Travis CI for Private Repositories</a></h2>
  </section> -->

  <section>
    <h2>Menu</h2>
    <nav>
      <ul>
        <li><a href="/archivesspace/user/system-requirements/">System Requirements</a></li>
        <li><a href="/archivesspace/user/getting-started/">Getting started</a></li>
        <li><a href="/archivesspace/user/configuring-archivesspace/">Configuring ArchivesSpace</a></li>
        <li><a href="/archivesspace/user/upgrading-to-a-new-release-of-archivesspace/">Upgrading ArchivesSpace</a></li>
        <li><a href="/archivesspace/user/running-archivesspace-as-a-unix-daemon/">Running ArchivesSpace as a Unix daemon</a></li>
        <li><a href="/archivesspace/user/running-archivesspace-as-a-windows-service/">Running ArchivesSpace as a Windows Service</a></li>
        <li><a href="/archivesspace/user/running-archivesspace-against-mysql/">Setting up MySQL for Production</a></li>
        <li><a href="/archivesspace/user/backup-and-recovery/">Backup and Recovery</a></li>
        <li><a href="/archivesspace/user/re-creating-indexes/">Re-creating your indexes</a></li>
        <li><a href="/archivesspace/user/resetting-passwords/">Resetting Passwords</a></li>
        <li><a href="/archivesspace/user/tuning-archivesspace/">Tuning ArchivesSpace</a></li>
        <li><a href="/archivesspace/user/configuring-ldap-authentication/">Configuring LDAP authentication</a></li>
        <li><a href="/archivesspace/user/archivesspace-plug-ins-readme/">Plugins and Local Customizations</a></li>
        <li><a href="/archivesspace/user/running-archivesspace-under-a-prefix/">Deploying under a URL prefix</a></li>
        <li><a href="/archivesspace/user/running-archivesspace-with-external-solr/">Using an external Solr index</a></li>
        <li><a href="/archivesspace/user/application-monitoring-with-new-relic/">Monitoring with New Relic</a></li>
      </ul>
      <h2>Developer Guides</h2>
      <ul>
        <li><a href="/archivesspace/user/archivesspace-architecture-overview">Architecture Overview</a></li>
        <li><a href="/archivesspace/api">The API</a></li>
        <li><a href="/archivesspace/user/archivesspace-build-system">Building ArchivesSpace</a></li>
        <li><a href="/archivesspace/user/selenium-test-suite">Running Selenium Tests</a></li>
        <li><a href="/archivesspace/doc">Ruby YARD Documentation</a></li>
        <li><div class="status-circle status">Status:</div>
          <a href="https://travis-ci.org/archivesspace/archivesspace">Travis CI Status</a>
        </li>
      </ul>
    </nav>
  </section>
  <section>
    <h2>Contact</h2>
    <ul>
      <li><a href="https://twitter.com/archivesspace">Twitter</a></li>
      <li><a href="irc://chat.freenode.net/%23archivesspace">IRC</a></li>
      <li><a href="http://github.com/archivesspace">GitHub</a></li>
      <li><a href="mailto:ArchivesSpaceHome@lyrasis.org">Email</a></li>
    </ul>
  </section>
  <section>
    <h2>Contributing</h2>
    <p>This documentation site is open source.
      The <a href="https://github.com/archivesspace/archivesspace/tree/gh-pages">README in our Git repository</a> explains how to contribute.</p>
      <p>This documentation was based on the <a href="https://travis-ci.org">Travis CI</a> documentation. It uses <a href="https://github.com/jekyll/jekyll">Jekyll</a> and <a href="https://github.com/tripit/slate">Slate</a></p>
  </section>
</div><!-- /#sidebar -->


        <main id="main" class="main">
          
            <h1 class="title">Configuring ArchivesSpace</h2>
          
          <p>The primary configuration for ArchivesSpace is done in the config/config.rb
file. By default, this file contains the default settings, which are indicated
by commented out lines ( indicated by the “#” in the file ). You can adjust these
settings by adding new lines that change the default and restarting
ArchivesSpace. Be sure that your new settings are not commented out
( i.e. do NOT start with a “#” ), otherwise the settings will not take effect.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:default_admin_password</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"admin"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">]</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">Dir</span><span class="p">.</span><span class="nf">home</span><span class="p">,</span> <span class="s2">"ArchivesSpace"</span><span class="p">)</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backup_directory</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"demo_db_backups"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_index_directory</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"solr_index"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_home_directory</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"solr_home"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_indexing_frequency_seconds</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_facet_limit</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:default_page_size</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:max_page_size</span><span class="p">]</span> <span class="o">=</span> <span class="mi">250</span>

<span class="c1"># Log level for the backend, values: (everything) debug, info, warn, error, fatal (severe only)</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backend_log_level</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"debug"</span>

<span class="c1"># A prefix added to cookies used by the application.</span>
<span class="c1">#</span>
<span class="c1"># Change this if you're running more than one instance of ArchivesSpace on the</span>
<span class="c1"># same hostname (i.e. multiple instances on different ports)</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:cookie_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"archivesspace"</span>

<span class="c1"># The periodic indexer can run using multiple threads to take advantage of</span>
<span class="c1"># multiple CPU cores.</span>
<span class="c1">#</span>
<span class="c1"># By setting the next two options, you can control how many CPU cores are used,</span>
<span class="c1"># and the amount of memory that will be consumed by the indexing process (more</span>
<span class="c1"># cores and/or more records per thread means more memory used).</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:indexer_records_per_thread</span><span class="p">]</span> <span class="o">=</span> <span class="mi">25</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:indexer_thread_count</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:indexer_solr_timeout_seconds</span><span class="p">]</span> <span class="o">=</span> <span class="mi">300</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:allow_other_unmapped</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_url</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">.</span><span class="nf">demo_db_url</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_url_redacted</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_url</span><span class="p">].</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/(user|password)=(.*?)(&amp;|$)/</span><span class="p">,</span> <span class="s1">'\1=[REDACTED]\3'</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_max_connections</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="mi">20</span> <span class="o">+</span> <span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:indexer_thread_count</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>

<span class="c1"># Set to true to log all SQL statements.  Note that this will have a performance</span>
<span class="c1"># impact!</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_debug_log</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="c1"># Set to true if you have enabled MySQL binary logging</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:mysql_binlog</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:allow_unsupported_database</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:allow_non_utf8_mysql_database</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:demo_db_backup_schedule</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"0 4 * * *"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:demo_db_backup_number_to_keep</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_backup_directory</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"solr_backups"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_backup_schedule</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"0 * * * *"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_backup_number_to_keep</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backend_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8089"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8080"</span>

<span class="c1"># Proxy URLs</span>
<span class="c1"># If you are serving user-facing applications via proxy</span>
<span class="c1"># (i.e., another domain or port, or via https, or for a prefix) it is</span>
<span class="c1"># recommended that you record those URLs in your configuration</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_proxy_url</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_url</span><span class="p">]</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_proxy_url</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_url</span><span class="p">]</span> <span class="p">}</span>

<span class="c1"># Don't override _prefix or _proxy_prefix unless you know what you're doing</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="s2">"</span><span class="si">#{</span><span class="no">URI</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_url</span><span class="p">]).</span><span class="nf">path</span><span class="si">}</span><span class="s2">/"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">%r{/+$}</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_proxy_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="s2">"</span><span class="si">#{</span><span class="no">URI</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_proxy_url</span><span class="p">]).</span><span class="nf">path</span><span class="si">}</span><span class="s2">/"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">%r{/+$}</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:solr_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8090"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:indexer_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8091"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8081"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="s2">"</span><span class="si">#{</span><span class="no">URI</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_url</span><span class="p">]).</span><span class="nf">path</span><span class="si">}</span><span class="s2">/"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">%r{/+$}</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_proxy_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="s2">"</span><span class="si">#{</span><span class="no">URI</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_proxy_url</span><span class="p">]).</span><span class="nf">path</span><span class="si">}</span><span class="s2">/"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">%r{/+$}</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">)</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:docs_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://localhost:8888"</span>

<span class="c1"># Setting any of the four keys below to false will prevent the associated</span>
<span class="c1"># applications from starting. Temporarily disabling the frontend and public</span>
<span class="c1"># UIs and/or the indexer may help users who are running into memory-related</span>
<span class="c1"># issues during migration.</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_backend</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_frontend</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_public</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_solr</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_indexer</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_docs</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>

<span class="c1"># Some use cases want the ability to shutdown the Jetty service using Jetty's</span>
<span class="c1"># ShutdownHandler, which allows a POST request to a specific URI to signal</span>
<span class="c1"># server shutdown. The prefix for this URI path is set to /xkcd to reduce the</span>
<span class="c1"># possibility of a collision in the path configuration. So, full path would be</span>
<span class="c1"># /xkcd/shutdown?token={randomly generated password}</span>
<span class="c1"># The launcher creates a password to use this, which is stored</span>
<span class="c1"># in the data directory. This is not turned on by default.</span>
<span class="c1">#</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:use_jetty_shutdown_handler</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:jetty_shutdown_path</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"/xkcd"</span>


<span class="c1"># If you have multiple instances of the backend running behind a load</span>
<span class="c1"># balancer, list the URL of each backend instance here.  This is used by the</span>
<span class="c1"># real-time indexing, which needs to connect directly to each running</span>
<span class="c1"># instance.</span>
<span class="c1">#</span>
<span class="c1"># By default we assume you're not using a load balancer, so we just connect</span>
<span class="c1"># to the regular backend URL.</span>
<span class="c1">#</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backend_instance_urls</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="p">[</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backend_url</span><span class="p">]]</span> <span class="p">}</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:frontend_theme</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"default"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_theme</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"default"</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:session_expire_after_seconds</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3600</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:search_username</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"search_indexer"</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_username</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"public_anonymous"</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:staff_username</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"staff_system"</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:authentication_sources</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:realtime_index_backlog_ms</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60000</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:notifications_backlog_ms</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60000</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:notifications_poll_frequency_ms</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:max_usernames_per_source</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:demodb_snapshot_flag</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"create_demodb_snapshot.txt"</span><span class="p">)</span> <span class="p">}</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:locale</span><span class="p">]</span> <span class="o">=</span> <span class="ss">:en</span>

<span class="c1"># Report Configuration</span>
<span class="c1"># :report_page_layout uses valid values for the  CSS3 @page directive's</span>
<span class="c1"># size property: http://www.w3.org/TR/css3-page/#page-size-prop</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:report_page_layout</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"letter landscape"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:report_pdf_font_paths</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="p">[</span><span class="s2">"</span><span class="si">#{</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:backend_url</span><span class="p">]</span><span class="si">}</span><span class="s2">/reports/static/fonts/dejavu/DejaVuSans.ttf"</span><span class="p">]</span> <span class="p">}</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:report_pdf_font_family</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"</span><span class="se">\"</span><span class="s2">DejaVu Sans</span><span class="se">\"</span><span class="s2">, sans-serif"</span>

<span class="c1"># Plug-ins to load. They will load in the order specified</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:plugins</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'local'</span><span class="p">,</span>  <span class="s1">'lcnaf'</span><span class="p">,</span> <span class="s1">'aspace-public-formats'</span><span class="p">]</span>

<span class="c1"># URL to direct the feedback link</span>
<span class="c1"># You can remove this from the footer by making the value blank.</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:feedback_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://archivesspace.org/feedback"</span>


<span class="c1">#</span>
<span class="c1"># The following are used by the aspace-public-formats plugin</span>
<span class="c1"># https://github.com/archivesspace/aspace-public-formats</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_formats_resource_links</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:public_formats_digital_object_links</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:xsltproc_path</span><span class="p">]</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:xslt_path</span><span class="p">]</span> <span class="o">=</span> <span class="kp">nil</span>


<span class="c1"># Allow an unauthenticated user to create an account</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:allow_user_registration</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>

<span class="c1"># Help Configuration</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:help_enabled</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:help_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"http://docs.archivesspace.org"</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:help_topic_prefix</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"/Default_CSH.htm#"</span>


<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:shared_storage</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:data_directory</span><span class="p">],</span> <span class="s2">"shared"</span><span class="p">)</span> <span class="p">}</span>

<span class="c1"># formerly known as :import_job_path</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:job_file_path</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">.</span><span class="nf">has_key?</span><span class="p">(</span><span class="ss">:import_job_path</span><span class="p">)</span> <span class="p">?</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:import_job_path</span><span class="p">]</span> <span class="p">:</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:shared_storage</span><span class="p">],</span> <span class="s2">"job_files"</span><span class="p">)</span> <span class="p">}</span>

<span class="c1"># this too</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:job_poll_seconds</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">.</span><span class="nf">has_key?</span><span class="p">(</span><span class="ss">:import_poll_seconds</span><span class="p">)</span> <span class="p">?</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:import_poll_seconds</span><span class="p">]</span> <span class="p">:</span> <span class="mi">5</span> <span class="p">}</span>

<span class="c1"># and this</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:job_timeout_seconds</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="no">AppConfig</span><span class="p">.</span><span class="nf">has_key?</span><span class="p">(</span><span class="ss">:import_timeout_seconds</span><span class="p">)</span> <span class="p">?</span> <span class="no">AppConfig</span><span class="p">[</span><span class="ss">:import_timeout_seconds</span><span class="p">]</span> <span class="p">:</span> <span class="mi">300</span> <span class="p">}</span>

<span class="c1"># By default, only allow jobs to be cancelled if we're running against MySQL (since we can rollback)</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:jobs_cancelable</span><span class="p">]</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="p">(</span><span class="no">AppConfig</span><span class="p">[</span><span class="ss">:db_url</span><span class="p">]</span> <span class="o">!=</span> <span class="no">AppConfig</span><span class="p">.</span><span class="nf">demo_db_url</span><span class="p">).</span><span class="nf">to_s</span> <span class="p">}</span>

<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:max_location_range</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># Schema Info check</span>
<span class="c1"># ASpace backend will not start if the db's schema_info version is not set</span>
<span class="c1"># correctly for this version of ASPACE. This is to ensure that all the</span>
<span class="c1"># migrations have run and completed before starting the app. You can override</span>
<span class="c1"># this check here. Do so at your own peril. </span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:ignore_schema_info_check</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="c1"># Jasper Reports</span>
<span class="c1"># (https://community.jaspersoft.com/project/jasperreports-library)</span>
<span class="c1"># require compilation. This can be done at startup. Please note, if you are</span>
<span class="c1"># using Java 8 and you want to compile at startup, keep this setting at false,</span>
<span class="c1"># but be sure to use the JDK version.</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:enable_jasper</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:compile_jasper</span><span class="p">]</span> <span class="o">=</span> <span class="kp">true</span>

<span class="c1"># There are some conditions that has caused tree nodes ( ArchivalObjects, DO</span>
<span class="c1"># Components, and ClassificationTerms) to lose their sequence pointers and</span>
<span class="c1"># position setting. This will resequence these tree nodes prior to startup.</span>
<span class="c1"># If is recogmended that this be used very infrequently and should not be set</span>
<span class="c1"># to true for all startups ( as it will take a considerable amount of time )</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:resequence_on_startup</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="c1"># This is a URL that points to some demo data that can be used for testing,</span>
<span class="c1"># teaching, etc. To use this, set an OS environment variable of ASPACE_DEMO = true</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:demo_data_url</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"https://s3-us-west-2.amazonaws.com/archivesspacedemo/latest-demo-data.zip"</span> 

<span class="c1"># Expose external ids in the frontend</span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:show_external_ids</span><span class="p">]</span> <span class="o">=</span> <span class="kp">false</span>

<span class="c1">#</span>
<span class="c1"># This sets the allowed size of the request/response header that Jetty will accept (</span>
<span class="c1"># anything bigger gets a 403 error ). Note if you want to jack this size up,</span>
<span class="c1"># you will also have to configure your Nginx/Apache  as well if</span>
<span class="c1"># you're using that </span>
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:jetty_response_buffer_size_bytes</span><span class="p">]</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">*</span> <span class="mi">1024</span> 
<span class="no">AppConfig</span><span class="p">[</span><span class="ss">:jetty_request_buffer_size_bytes</span><span class="p">]</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">*</span> <span class="mi">1024</span> 
</code></pre>
</div>

        </main>
      </div><!-- /#content -->

      <footer>
  <div class="row">
  </div>
</footer>

    </div><!-- /.wrapper -->
  </body>
</html>
